<!DOCTYPE html>
<html lang="en">
    <head>
            <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WZDT55YYXS"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-WZDT55YYXS');
    </script>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap"
        rel="stylesheet"
    />
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x"
        crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/drag-data-browser//includes/style.css" />
    <script>
        const BASE_URL = "/drag-data-browser/";
        const DATASET_URL = "/drag-data-browser/dataset";
        const DATA_DIR = "/drag-data-browser/data";
    </script>
        <title>Gayboys and Playboys | </title>
        
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>

    </head>
    <body>
        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="home" viewBox="0 0 16 16">
        <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"></path>
    </symbol>
    <symbol id="speedometer2" viewBox="0 0 16 16">
        <path d="M8 4a.5.5 0 0 1 .5.5V6a.5.5 0 0 1-1 0V4.5A.5.5 0 0 1 8 4zM3.732 5.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 10a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 10zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 9.31a.91.91 0 1 0 1.302 1.258l3.434-4.297a.389.389 0 0 0-.029-.518z"></path>
        <path fill-rule="evenodd" d="M0 10a8 8 0 1 1 15.547 2.661c-.442 1.253-1.845 1.602-2.932 1.25C11.309 13.488 9.475 13 8 13c-1.474 0-3.31.488-4.615.911-1.087.352-2.49.003-2.932-1.25A7.988 7.988 0 0 1 0 10zm8-7a7 7 0 0 0-6.603 9.329c.203.575.923.876 1.68.63C4.397 12.533 6.358 12 8 12s3.604.532 4.923.96c.757.245 1.477-.056 1.68-.631A7 7 0 0 0 8 3z"></path>
    </symbol>
    <symbol id="speedometer" viewBox="0 0 16 16">
        <path d="M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2zM3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z"></path>
        <path fill-rule="evenodd" d="M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z"></path>
    </symbol>
    <symbol id="network" viewBox="0 0 16 16">
        <path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
    </symbol>
    <symbol id="dataset" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15.817.113A.5.5 0 0 1 16 .5v14a.5.5 0 0 1-.402.49l-5 1a.502.502 0 0 1-.196 0L5.5 15.01l-4.902.98A.5.5 0 0 1 0 15.5v-14a.5.5 0 0 1 .402-.49l5-1a.5.5 0 0 1 .196 0L10.5.99l4.902-.98a.5.5 0 0 1 .415.103zM10 1.91l-4-.8v12.98l4 .8V1.91zm1 12.98 4-.8V1.11l-4 .8v12.98zm-6-.8V1.11l-4 .8v12.98l4-.8z"/>
    </symbol>
    <symbol id="clippings" viewBox="0 0 16 16">
        <path d="M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"/>
        <path d="M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"/>
    </symbol>
    <symbol id="case-study" viewBox="0 0 16 16">
        <path d="M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM4.5 9a.5.5 0 0 1 0-1h7a.5.5 0 0 1 0 1h-7zM4 10.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 1 0-1h4a.5.5 0 0 1 0 1h-4z"/>
    </symbol>
    <symbol id="globe" viewBox="0 0 16 16">
        <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm7.5-6.923c-.67.204-1.335.82-1.887 1.855A7.97 7.97 0 0 0 5.145 4H7.5V1.077zM4.09 4a9.267 9.267 0 0 1 .64-1.539 6.7 6.7 0 0 1 .597-.933A7.025 7.025 0 0 0 2.255 4H4.09zm-.582 3.5c.03-.877.138-1.718.312-2.5H1.674a6.958 6.958 0 0 0-.656 2.5h2.49zM4.847 5a12.5 12.5 0 0 0-.338 2.5H7.5V5H4.847zM8.5 5v2.5h2.99a12.495 12.495 0 0 0-.337-2.5H8.5zM4.51 8.5a12.5 12.5 0 0 0 .337 2.5H7.5V8.5H4.51zm3.99 0V11h2.653c.187-.765.306-1.608.338-2.5H8.5zM5.145 12c.138.386.295.744.468 1.068.552 1.035 1.218 1.65 1.887 1.855V12H5.145zm.182 2.472a6.696 6.696 0 0 1-.597-.933A9.268 9.268 0 0 1 4.09 12H2.255a7.024 7.024 0 0 0 3.072 2.472zM3.82 11a13.652 13.652 0 0 1-.312-2.5h-2.49c.062.89.291 1.733.656 2.5H3.82zm6.853 3.472A7.024 7.024 0 0 0 13.745 12H11.91a9.27 9.27 0 0 1-.64 1.539 6.688 6.688 0 0 1-.597.933zM8.5 12v2.923c.67-.204 1.335-.82 1.887-1.855.173-.324.33-.682.468-1.068H8.5zm3.68-1h2.146c.365-.767.594-1.61.656-2.5h-2.49a13.65 13.65 0 0 1-.312 2.5zm2.802-3.5a6.959 6.959 0 0 0-.656-2.5H12.18c.174.782.282 1.623.312 2.5h2.49zM11.27 2.461c.247.464.462.98.64 1.539h1.835a7.024 7.024 0 0 0-3.072-2.472c.218.284.418.598.597.933zM10.855 4a7.966 7.966 0 0 0-.468-1.068C9.835 1.897 9.17 1.282 8.5 1.077V4h2.355z"/>
    </symbol>
    <symbol id="process" viewBox="0 0 16 16">
        <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"/>
        <path d="M7 5.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 1 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0zM7 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm-1.496-.854a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0l-.5-.5a.5.5 0 0 1 .708-.708l.146.147 1.146-1.147a.5.5 0 0 1 .708 0z"/>
    </symbol>
    <symbol id="migration" viewBox="0 0 16 16">
        <path d="M9 7a1 1 0 0 1 1-1h5v2h-5a1 1 0 0 1-1-1zM1 9h4a1 1 0 0 1 0 2H1V9z"/>
        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>      
    </symbol>
</svg>
        <main class="overflow-scroll">
            <nav id="mainNav" class="sticky-top d-none d-xl-flex flex-column flex-shrink-0 p-3 text-white bg-dark navbar-nav-scroll">
    <a href="/drag-data-browser/" class="d-flex align-items-start mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
        <svg class="bi me-2" width="40" height="32" fill="white"><use xlink:href="#speedometer2"></use></svg>
        <span class="fs-4">Gayboys and Playboys</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
    
        <li class="nav-item ms-3 text-uppercase text-muted small fw-bold user-select-none pb-1">Meta</li>
        
            <li class="nav-item">
                <a href="/drag-data-browser/case-study/theorizing-the-peripatetic/" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#case-study"></use></svg>
                    Theorizing the Peripatetic
                </a>
            </li>
            
        
    
        <li class="nav-item ms-3 text-uppercase text-muted small fw-bold user-select-none pt-4 pb-1">Case Studies</li>
        
            <li class="nav-item">
                <a href="/drag-data-browser/case-study/intimate-accoutrements-as-somatechnical-network-devices" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#case-study"></use></svg>
                    Intimate Accoutrements as Somatechnical Network Devices
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/case-study/an-expanse-of-hairy-chest-above-a-beaded-brassiere" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#case-study"></use></svg>
                    “An Expanse of Hairy Chest Above a Beaded Brassiere”
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/case-study/camping-in-the-clubs-and-the-county-courts" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#case-study"></use></svg>
                    Camping in the Clubs and the County Courts
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/case-study/see-it-live-it-dance-it" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#case-study"></use></svg>
                    “See it—Live it—Dance it”
                </a>
            </li>
            
        
    
        <li class="nav-item ms-3 text-uppercase text-muted small fw-bold user-select-none pt-4 pb-1">Visualizations</li>
        
            <li class="nav-item">
                <a href="/drag-data-browser/network" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#network"></use></svg>
                    Network
                </a>
            </li>
            
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small ms-3">
                
                    <li><a href="/drag-data-browser/network/community-distribution" class="text-white rounded">Community Distribution</a></li>
                
                    <li><a href="/drag-data-browser/network/overview" class="text-white rounded">Network Overview</a></li>
                
                </ul>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/great-migration" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#migration"></use></svg>
                    Great Migration
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/continuous-performers" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#speedometer2"></use></svg>
                    Continuous Performers
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/geo" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#globe"></use></svg>
                    Geodata (alpha)
                </a>
            </li>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/process" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#process"></use></svg>
                    Research Process
                </a>
            </li>
            
        
    
        <li class="nav-item ms-3 text-uppercase text-muted small fw-bold user-select-none pt-4 pb-1">Data</li>
        
            <li class="nav-item">
                <a href="/drag-data-browser/dataset" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#dataset"></use></svg>
                    Dataset
                </a>
            </li>
            
                <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small ms-3">
                
                    <li><a href="/drag-data-browser/dataset/performer" class="text-white rounded">Performers</a></li>
                
                    <li><a href="/drag-data-browser/dataset/venue" class="text-white rounded">Venues</a></li>
                
                    <li><a href="/drag-data-browser/similar-names" class="text-white rounded">Similar name reports</a></li>
                
                </ul>
            
        
            <li class="nav-item">
                <a href="/drag-data-browser/dataset/clippings" class="d-flex nav-link text-white" aria-current="page"><!-- add `active` class here... -->
                    <svg class="bi me-2" width="16" height="16" fill="white" style="min-width:16px;"><use xlink:href="#clippings"></use></svg>
                    Clippings
                </a>
            </li>
            
        
    
</ul>
    <hr>
    <div class="dropdown">
        <a href="/drag-data-browser//about/" class="text-white text-decoration-none small">About this website</a>
    </div>
</nav>
<nav id="mainNavSmall" class="sticky-top d-flex d-xl-none flex-column flex-shrink-0 bg-dark navbar-nav-scroll">
    <a href="/drag-data-browser/" class="d-block p-3 link-light text-white text-decoration-none" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Start">
        <svg class="bi" width="40" height="32"><use xlink:href="#speedometer2"></use></svg>
        <span class="visually-hidden">Start</span>
    </a>
    <ul class="nav nav-pills nav-flush flex-column mb-auto text-center">
    
        
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/case-study/theorizing-the-peripatetic/" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Theorizing the Peripatetic">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Theorizing the Peripatetic"><use xlink:href="#case-study"></use></svg>
                    </a>
                </li>
            
        
    
        
            <li><!--  class="nav-item" -->
                <a href="/drag-data-browser/case-study" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Case Studies">
                    <svg class="bi" width="24" height="24" role="img" aria-label="Case Studies"><use xlink:href="#case-study"></use></svg>
                </a>
            </li>
        
    
        
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/network" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Network">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Network"><use xlink:href="#network"></use></svg>
                    </a>
                </li>
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/great-migration" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Great Migration">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Great Migration"><use xlink:href="#migration"></use></svg>
                    </a>
                </li>
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/continuous-performers" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Continuous Performers">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Continuous Performers"><use xlink:href="#speedometer2"></use></svg>
                    </a>
                </li>
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/geo" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Geodata (alpha)">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Geodata (alpha)"><use xlink:href="#globe"></use></svg>
                    </a>
                </li>
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/process" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Research Process">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Research Process"><use xlink:href="#process"></use></svg>
                    </a>
                </li>
            
        
    
        
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/dataset" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Dataset">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Dataset"><use xlink:href="#dataset"></use></svg>
                    </a>
                </li>
            
                <li><!--  class="nav-item" -->
                    <a href="/drag-data-browser/dataset/clippings" class="nav-link py-3 border-bottom" aria-current="page" title="" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-original-title="Clippings">
                        <svg class="bi" width="24" height="24" role="img" aria-label="Clippings"><use xlink:href="#clippings"></use></svg>
                    </a>
                </li>
            
        
    
</ul>
    <div class="dropdown border-top">
        <a href="/drag-data-browser//about/" class="text-white text-decoration-none small">About this website</a>
    </div>
</nav>
            <div id="horizontal-separator"></div>
            
            <section id="content" class="d-flex flex-column overflow-auto w-100 mb-5 h-100">
                
                <div class="container">
                    
<h1>Artists present per month</h1>
<p class="lead">The objective here for me is to see the persistence of artists over the course of months in the dataset, with a <kbd>start_date</kbd> and <kbd>end_date</kbd> set and a <kbd>tolerance</kbd> set.</p>

<h2>Step 1: Importing all necessary libraries</h2>
<pre><code class="language-python">
    from tqdm.notebook import tqdm
    from collections import OrderedDict
    import pandas as pd
    import datetime, maya, pytz, re, json, copy
</code></pre>

<h2>Step 2: Set up all variables</h2>
<pre><code class="language-python">
    start_date = datetime.datetime(year=1930, month=1, day=1)
    end_date = datetime.datetime(year=1940, month=1, day=1)
    tolerance = datetime.timedelta(weeks=12)
    
    # Fix timezones
    timezone = pytz.timezone("UTC")
    start_date = timezone.localize(start_date)
    end_date = timezone.localize(end_date)

    # Set up all the variables we need
    month_list = ['', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
    tolerances = [0, 1, 2, 3, 4, 5]
    calendars = {}
    padded_datasets = {}
</code></pre>

<h2>Step 3: Function for loading DataFrame from Google Sheet</h2>
<pre><code class="language-python">
    def get_clean_df(only_performer_and_venue=True):
        def get_performer(row):
            if row['Normalized performer'] != '':
                return row['Normalized performer']
            if row['Performer'] != '':
                return row['Performer']
            if row['Performer first-name'] != '' and row['Performer last-name'] != '':
                return row['Performer first-name'] + ' ' + row['Performer last-name']
            return ''

        def get_revue(row):
            if row['Normalized Revue Name'] != '':
                return row['Normalized Revue Name']
            if row['Revue name'] != '':
                return row['Revue name']
            return ''

        def get_venue(row, get_unique_venue=True):
            if get_unique_venue:
                if row['Unique venue'] != '':
                    return row['Unique venue']

            if row['Normalized Venue'] != '':
                return row['Normalized Venue']
            if row['Venue'] != '':
                return row['Venue']
            return ''

        def get_city(row):
            if row['Normalized City'] != '':
                return row['Normalized City']
            if row['City'] != '':
                return row['City']
            return ''

        def get_source(row):
            if row['Source clean'] != '':
                return row['Source clean']
            if row['Source'] != '':
                return row['Source']
            return ''

        import maya
        from maya import pendulum

        def test_date(row, accept_only_full_dates=True):
            if accept_only_full_dates and not re.search(r'\d{4}\-\d{2}\-\d{2}', row["Date"]):
                return ''
            try:
                m = maya.parse(row["Date"]).datetime()
                return m
            except pendulum.exceptions.ParserError:
                return ''
            except ValueError:
                return ''

        drop_columns = ['Legal name', 'Alleged age', 'Assumed birth year', 'EIMA', 'Search (newspapers.com)', 'Search (fulton)', 'Imported from former archive', 'Edge Comment', 'Exclude from visualization', 'Comment on node: performer', 'Comment on node: venue', 'Comment on node: city', 'Comment on edge: revue', 'Blackface', 'Sepia', 'Fan dancer/Sally Rand', 'Exotic/erotic/oriental dancer/Gypsy', 'Has image', 'Address', 'Vaudeville Circuit/Circus', 'Unsure whether drag artist']

        df = pd.read_csv('https://docs.google.com/spreadsheets/d/e/2PACX-1vT0E0Y7txIa2pfBuusA1cd8X5OVhQ_D0qZC8D40KhTU3xB7McsPR2kuB7GH6ncmNT3nfjEYGbscOPp0/pub?gid=0&single=true&output=csv')

        df = df.replace('—', '')
        df = df.fillna('')


        # Set the dates
        df['Date'] = df.apply(lambda row: test_date(row), axis=1)

        # No required date
        no_date = df[(df['Date'] == '')].index
        df = df.drop(no_date)

        # Excluded
        excluded = df[df['Exclude from visualization'] == True].index
        df = df.drop(excluded)

        # Excluded
        unsure_drag = df[df['Unsure whether drag artist'] == True].index
        df = df.drop(unsure_drag)

        # Drop unnecessary columns
        df = df.drop(['Category', 'Normalized City', 'City'], axis='columns')

        # Fix performers
        df['Performer'] = df.apply(lambda row: get_performer(row), axis=1)
        df = df.drop(['Normalized performer', 'Performer first-name', 'Performer last-name'], axis='columns')

        # Fix venue
        df['Venue'] = df.apply(lambda row: get_venue(row), axis=1)
        df = df.drop(['Normalized Venue', 'Unique venue'], axis='columns')

        # Fix city *since we're using "Unique venue", we don't need city
        # df['City'] = df.apply(lambda row: get_city(row), axis=1)
        # df = df.drop(['Normalized City'], axis='columns')

        # Fix revue
        df['Revue'] = df.apply(lambda row: get_revue(row), axis=1)
        df = df.drop(['Revue name', 'Normalized Revue Name'], axis='columns')

        # Fix source
        df['Source'] = df.apply(lambda row: get_source(row), axis=1)
        df = df.drop(['Source clean'], axis='columns')

        # drop rows with none of the required data
        no_data = df[(df['Performer'] == '') & (df['Venue'] == '')].index 
        df = df.drop(no_data)

        if only_performer_and_venue:
            # drop rows with none of the required data
            no_data = df[(df['Venue'] == '') | (df['Performer'] == '')].index 
            df = df.drop(no_data)

        # Drop rest of columns
        df = df.drop(drop_columns, axis='columns')
        
        return df
</code></pre>

<h2>Step 4: Load and Filter</h2>
<pre><code class="language-python">
    def find_unnamed(row):
        if 'unnamed' in row.Performer.lower():
            return True
        return False

    df = get_clean_df()

    # Filtering by date
    filtered_df = df[(df["Date"] >= start_date) & (df["Date"] <= end_date)].copy()

    # Filter out unnamed performers
    filtered_df['Unnamed'] = filtered_df.apply(lambda row: find_unnamed(row), axis=1)
    unnamed = filtered_df[filtered_df['Unnamed'] == True].index
    filtered_df = filtered_df.drop(unnamed)

    # Remove duplicates of subset of Date - Performer - Venue
    duplicated = filtered_df[filtered_df.duplicated(subset=['Date', 'Performer', 'Venue'], keep='first')].index
    filtered_df.drop(duplicated)

    # Reset index
    filtered_df = filtered_df.reset_index()
    filtered_df = filtered_df.drop(['index'], axis='columns')

    # Sort by performer
    filtered_df = filtered_df.sort_values('Performer')
</code></pre>

<h2>Step 5: Set up the logic for month/year distribution</h2>
<pre><code class="language-python">
    def get_check(year, month, tolerance=2):
        check_years = []
        check_months = []
        
        if tolerance == 0:
            check_years = [year]
            check_months = [month]

        else:
            if month == 'Jan':
                if tolerance == 1:
                    check_years = [year-1, year, year]
                    check_months = ['Dec', 'Jan', 'Feb']
                elif tolerance == 2:
                    check_years = [year-1, year-1, year, year, year]
                    check_months = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar']
                elif tolerance == 3:
                    check_years = [year-1, year-1, year-1, year, year, year, year]
                    check_months = ['Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr']
                elif tolerance == 4:
                    check_years = [year-1, year-1, year-1, year-1, year, year, year, year, year]
                    check_months = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May']
                elif tolerance == 5:
                    check_years = [year-1, year-1, year-1, year-1, year-1, year, year, year, year, year, year]
                    check_months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
            elif month == 'Feb':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Jan', 'Feb', 'Mar']
                elif tolerance == 2:
                    check_years = [year-1, year, year, year, year]
                    check_months = ['Dec', 'Jan', 'Feb', 'Mar', 'Apr']
                elif tolerance == 3:
                    check_years = [year-1, year-1, year, year, year, year, year]
                    check_months = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May']
                elif tolerance == 4:
                    check_years = [year-1, year-1, year-1, year, year, year, year, year, year]
                    check_months = ['Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
                elif tolerance == 5:
                    check_years = [year-1, year-1, year-1, year-1, year, year, year, year, year, year, year]
                    check_months = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul']
            elif month == 'Mar':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Feb', 'Mar', 'Apr']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Jan', 'Feb', 'Mar', 'Apr', 'May']
                elif tolerance == 3:
                    check_years = [year-1, year, year, year, year, year, year]
                    check_months = ['Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun']
                elif tolerance == 4:
                    check_years = [year-1, year-1, year, year, year, year, year, year, year]
                    check_months = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul']
                elif tolerance == 5:
                    check_years = [year-1, year-1, year-1, year, year, year, year, year, year, year, year]
                    check_months = ['Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug']
            elif month == 'Apr':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Mar', 'Apr', 'May']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Feb', 'Mar', 'Apr', 'May', 'Jun']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul']
                elif tolerance == 4:
                    check_years = [year-1, year, year, year, year, year, year, year, year]
                    check_months = ['Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug']
                elif tolerance == 5:
                    check_years = [year-1, year-1, year, year, year, year, year, year, year, year, year]
                    check_months = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep']
            elif month == 'May':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Apr', 'May', 'Jun']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Mar', 'Apr', 'May', 'Jun', 'Jul']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year, year]
                    check_months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep']
                elif tolerance == 5:
                    check_years = [year-1, year, year, year, year, year, year, year, year, year, year]
                    check_months = ['Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct']
            elif month == 'Jun':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['May', 'Jun', 'Jul']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Apr', 'May', 'Jun', 'Jul', 'Aug']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year, year]
                    check_months = ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year, year, year, year]
                    check_months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov']
            elif month == 'Jul':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Jun', 'Jul', 'Aug']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['May', 'Jun', 'Jul', 'Aug', 'Sep']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year, year]
                    check_months = ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year, year, year, year]
                    check_months = ['Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
            elif month == 'Aug':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Jul', 'Aug', 'Sep']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Jun', 'Jul', 'Aug', 'Sep', 'Oct']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year, year]
                    check_months = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year, year, year, year+1]
                    check_months = ['Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan']
            elif month == 'Sep':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Aug', 'Sep', 'Oct']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Jul', 'Aug', 'Sep', 'Oct', 'Nov']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year]
                    check_months = ['Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year, year+1]
                    check_months = ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year, year, year+1, year+1]
                    check_months = ['Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb']
            elif month == 'Oct':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Sep', 'Oct', 'Nov']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year]
                    check_months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year, year+1]
                    check_months = ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year, year+1, year+1]
                    check_months = ['Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year, year+1, year+1, year+1]
                    check_months = ['May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar']
            elif month == 'Nov':
                if tolerance == 1:
                    check_years = [year, year, year]
                    check_months = ['Oct', 'Nov', 'Dec']
                elif tolerance == 2:
                    check_years = [year, year, year, year, year+1]
                    check_months = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year, year+1, year+1]
                    check_months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year, year+1, year+1, year+1]
                    check_months = ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year, year+1, year+1, year+1, year+1]
                    check_months = ['Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr']
            elif month == 'Dec':
                if tolerance == 1:
                    check_years = [year, year, year+1]
                    check_months = ['Nov', 'Dec', 'Jan']
                elif tolerance == 2:
                    check_years = [year, year, year, year+1, year+1]
                    check_months = ['Oct', 'Nov', 'Dec', 'Jan', 'Feb']
                elif tolerance == 3:
                    check_years = [year, year, year, year, year+1, year+1, year+1]
                    check_months = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar']
                elif tolerance == 4:
                    check_years = [year, year, year, year, year, year+1, year+1, year+1, year+1]
                    check_months = ['Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr']
                elif tolerance == 5:
                    check_years = [year, year, year, year, year, year, year+1, year+1, year+1, year+1, year+1]
                    check_months = ['Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May']
            else:
                raise RuntimeError('Unexpected month')
        
        if tolerance == 0 and len(check_years) + len(check_months) != 2:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
        if tolerance == 1 and len(check_years) + len(check_months) != 6:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
        if tolerance == 2 and len(check_years) + len(check_months) != 10:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
        if tolerance == 3 and len(check_years) + len(check_months) != 14:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
        if tolerance == 4 and len(check_years) + len(check_months) != 18:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
        if tolerance == 5 and len(check_years) + len(check_months) != 22:
            raise RuntimeError('Wrong amount of months/years in tolerance', tolerance, 'for month/year', month, year)
            
        return check_years, check_months
</code></pre>

<h2>Step 6: Set up all the looping over that we need</h2>
<pre><code class="language-python">
    # Get all years in dataset in order
    years_in_dataset = list(set([x.year for x, _ in filtered_df.sort_values('Date').groupby('Date')]))

    # Add them to calendar
    calendar = OrderedDict({year: [x for x in month_list if x] for year in years_in_dataset})

    # `calendar` is now an empty dictionary that contains all of the years (with concomitant months) for the dataset
    print(calendar)
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    # We have to re-organize `calendar` to be a dict of `years: months: [list of performers]`:
    _calendar = {}
    for y, v in calendar.items():
        _calendar[y] = {}
        for m in [m for m in v if m]:
            _calendar[y][m] = []
    calendar = _calendar

    # save as `empty_calendar` for later use
    empty_calendar = copy.deepcopy(calendar)

    # `calendar now looks like we want it to`
    print('years:', calendar.keys())
    print('months (for each year):', calendar[1930].keys())
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    # Loop through a list of all the performers
    for performer, data in filtered_df.groupby('Performer'):
        all_dates = data.sort_values('Date').Date
        # Zip the years and months together
        dates = zip([x.year for x in all_dates], [month_list[x.month] for x in all_dates])

        # Loop through them and add their name to the lists under each [year][month] in calendar
        for year, month in dates:
            calendar[year][month].append(performer)
            calendar[year][month] = list(set(calendar[year][month]))
            
    # `calendar` now has a list of unique performers in the dataset who appear for yeach [year][month]
    print(calendar[1930])
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    calendar_checks = {}
    for year, months in {year: [x for x in months.keys()] for year, months in calendar.items()}.items():
        calendar_checks[year] = {}
        for month in months:
            calendar_checks[year][month] = {tolerance: get_check(year, month, tolerance=tolerance) for tolerance in tolerances}
                
    # `calendar_checks` now has the same calendar structure as the other `calendar` except each [year][month] value
    # follows the strcuture {tolerance: check}
    calendar_checks[1939]
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    for tolerance in [0, 1, 2, 3, 4, 5]:
        # set up a `padded_dataset` from the empty calendar from before
        padded_dataset = copy.deepcopy(empty_calendar)
        
        for year in years_in_dataset:
            for month in [x for x in month_list if x]:
                # print(year, month)
                artists = calendar[year][month] # get the artists that appeared in the dataset for that specific month

                # they should be spread out, depending on the tolerance — by 0 months, 1 month, 2 months, and 3 months)
                spread_years, spread_months = calendar_checks[year][month][tolerance]
                
                print()
                print(f'currently we are looking at {month} {year} when there were {len(artists)} active.')
                print(f'This month should spread to {", ".join(" ".join(x) for x in zip(spread_months, [str(x) for x in spread_years]))}.')
                
                for y, m in zip(spread_years, spread_months):
                    try:
                        padded_dataset[y][m].extend(artists)
                        padded_dataset[y][m] = list(set(padded_dataset[y][m]))
                    except KeyError as k:
                        pass # print(k, 'does not exist in padded_dataset') # This will occur as the padding means that we overflow into years outside of the purview of this visualization
                    
        padded_datasets[tolerance] = padded_dataset.copy()
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    def save_as_json(dict, path):
        with open(path, 'w+') as fp:
            json.dump(fp=fp, obj=dict)
            
        return True
    
    for tolerance in padded_datasets:
        save_as_json(padded_datasets[tolerance], f'../../drag-data-browser/docs/data/continuous-performances-tolerance-{tolerance}-detail.json')
</code></pre>

<h2>Step X: XYZ</h2>
<pre><code class="language-python">
    def save_as_json(df, path):
        rows = []
        for ix,row in df.iterrows():
            rows.append({
                'date': ix.strftime('%Y-%m-%d'),
                'month': row.month,
                'num_artists': row.num_artists,
                'year': row.year
            })
            
        with open(path, 'w+') as fp:
            json.dump(fp=fp, obj=rows)
            
        return True


    for tolerance in padded_datasets:
        df_summary = pd.DataFrame()

        for year, dp in padded_datasets[tolerance].items():
            for month, performers in dp.items():
                d = {'month': month, 'year': year, 'num_artists': len(performers)}
                s = pd.Series(d, name=pd.to_datetime(f'{year}-{month}'))
                df_summary = df_summary.append(s)
        df_summary['num_artists'] = df_summary['num_artists'].astype(int)
        df_summary['year'] = df_summary['year'].astype(int)


        save_as_json(df_summary, f'../../drag-data-browser/docs/data/continuous-performances-tolerance-{tolerance}.json')
</code></pre>


                </div>
            </section>
        </main>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>

        
    <script>hljs.highlightAll();</script>

        <script src="/drag-data-browser//includes/js/tooltip-init.js"></script>
    </body>
</html>